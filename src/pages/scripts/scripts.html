<section class="page" data-page="scripts">
  <h1>Scripts</h1>
  <p class="muted">
    Create and run custom scripts or commands. Saved to
    data/settings/scripts.json.
  </p>

  <div class="card scripts-hero" aria-hidden="true">
    <div class="scripts-hero-icon" aria-hidden="true">
      <span class="ph ph-terminal-window"></span>
    </div>
    <div class="scripts-hero-copy">
      <h2>Automation Deck</h2>
      <p>
        Collect scripts you can trigger on demand. Toggle runners, choose the
        source, and keep diagnostics workflows at the ready.
      </p>
    </div>
    <div class="scripts-hero-stats">
      <div class="scripts-stat">
        <span class="label">Scripts</span>
        <span class="value" id="scripts-total">0</span>
      </div>
      <div class="scripts-stat">
        <span class="label">Runnable</span>
        <span class="value ok" id="scripts-runnable">0</span>
      </div>
      <div class="scripts-stat">
        <span class="label">Needs Attention</span>
        <span class="value warn" id="scripts-missing">0</span>
      </div>
    </div>
  </div>

  <div class="card scripts-toolbar">
    <input
      id="script-search"
      class="shortcut-search"
      type="search"
      placeholder="Search scripts, runners, descriptions..."
    />
    <select id="script-sort" title="Sort scripts">
      <option value="name-asc">Name (A-Z)</option>
      <option value="name-desc">Name (Z-A)</option>
      <option value="used-desc">Most run</option>
      <option value="used-asc">Least run</option>
    </select>
    <button id="script-add-btn">New script</button>
  </div>

  <div class="scripts-list"></div>

  <dialog id="script-editor" class="program-editor">
    <form method="dialog" id="script-form">
      <div class="editor-grid">
        <div class="fields-col" style="grid-column: 1 / -1">
          <label
            >Name
            <input id="s-name" type="text" required />
          </label>
          <label
            >Version
            <input id="s-version" type="text" />
          </label>
          <label
            >Description
            <textarea id="s-desc" rows="3"></textarea>
          </label>
          <label
            >Runner
            <select id="s-runner">
              <option value="powershell">PowerShell</option>
              <option value="powershell-admin">PowerShell (Admin)</option>
              <option value="cmd">CMD</option>
              <option value="cmd-admin">CMD (Admin)</option>
            </select>
          </label>
          <label
            >Source
            <select id="s-source">
              <option value="file">File path</option>
              <option value="link">URL</option>
              <option value="inline">Command text</option>
            </select>
          </label>
          <div id="s-source-file" class="source-row">
            <label
              >Script file
              <div class="input-with-btn">
                <input
                  id="s-file"
                  type="text"
                  placeholder="Path to .ps1 / .cmd / .bat"
                />
                <button type="button" id="s-pick-file" class="secondary">
                  Browse
                </button>
              </div>
            </label>
          </div>
          <div id="s-source-link" class="source-row" hidden>
            <label
              >URL
              <input id="s-url" type="url" placeholder="https://..." />
            </label>
          </div>
          <div id="s-source-inline" class="source-row" hidden>
            <label
              >Command text
              <textarea
                id="s-inline"
                rows="4"
                placeholder="Enter script/command"
              ></textarea>
            </label>
          </div>
        </div>
      </div>
      <div class="editor-actions">
        <button type="button" id="s-cancel" class="ghost">Cancel</button>
        <button type="button" id="s-save">Save</button>
      </div>
    </form>
  </dialog>
</section>
