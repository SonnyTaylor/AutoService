<section class="page" data-page="service-report">
  <div class="run-header">
    <div class="titles">
      <h1 id="svc-report-title">Service Runner</h1>
      <p class="muted" id="svc-report-desc">
        Prepare to run your service queue.
      </p>
    </div>
    <div class="run-actions">
      <button id="svc-report-back" class="ghost">Back</button>
      <button id="svc-report-run">Run Queue</button>
      <button id="svc-view-results" class="ghost" disabled>View Report</button>
    </div>
  </div>

  <div class="runner-layout" id="svc-runner" hidden>
    <div class="runner-left">
      <h2 class="section-title" style="margin-top: 0px; margin-bottom: 0px">
        Tasks
      </h2>
      <div class="runner-controls" id="svc-runner-controls" hidden>
        <div class="runner-status-indicator" id="svc-runner-status">
          <span class="status-icon" id="svc-status-icon"></span>
          <span class="status-text" id="svc-status-text">Idle</span>
        </div>
        <div class="runner-control-buttons">
          <button id="svc-stop-btn" class="control-btn stop" title="Stop run after current task completes">
            <i class="ph ph-stop-circle"></i>
            Stop
          </button>
          <button id="svc-pause-resume-btn" class="control-btn pause" title="Pause run after current task completes">
            <i class="ph ph-pause-circle"></i>
            <span class="btn-text">Pause</span>
          </button>
          <button id="svc-skip-btn" class="control-btn skip" title="Skip current task immediately">
            <i class="ph ph-skip-forward-circle"></i>
            Skip
          </button>
        </div>
      </div>
      <ul
        id="svc-task-status"
        class="task-status-list"
        aria-label="Task statuses"
      ></ul>
      <div class="runner-summary" id="svc-summary" hidden>
        <span id="svc-summary-icon" aria-hidden="true">✔</span>
        <div>
          <div id="svc-summary-title">All tasks completed</div>
          <div class="muted small" id="svc-summary-sub">
            Review the final report below.
          </div>
          <div
            class="summary-progress"
            id="svc-summary-progress"
            aria-hidden="true"
          >
            <div class="progress-track">
              <div
                class="progress-bar"
                id="svc-summary-progress-bar"
                style="width: 0%"
              ></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="runner-right">
      <h2 class="section-title" style="margin-top: 0px">Live Log</h2>
      <div class="log-wrap">
        <div id="svc-log-overlay" class="log-overlay" hidden>
          <div class="spinner" aria-hidden="true"></div>
          <span class="status-text">Running…</span>
        </div>
        <pre id="svc-log" class="log-view" aria-label="Live log output"></pre>
      </div>

      <div class="final-json">
        <div class="final-json-head">
          <h2 class="section-title">Final JSON Report</h2>
          <div class="json-actions">
            <button id="svc-copy-final" class="ghost small">Copy JSON</button>
          </div>
        </div>
        <pre
          id="svc-final-json"
          class="json-preview"
          aria-label="Final JSON output"
        ></pre>
      </div>
    </div>
  </div>
</section>
<script type="module" src="./runner.js"></script>
